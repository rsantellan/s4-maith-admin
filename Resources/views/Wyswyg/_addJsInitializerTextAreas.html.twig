<script type="text/javascript">
$(document).ready(function() {
	initializeWysWygEditors();
});

function initializeWysWygEditors(){
	$('textarea').each(function(index, value){
		CKEDITOR.replace( $(value).prop('id'), {
		    filebrowserBrowseUrl: '{{ path('maith_admin_wyswyg_media_browser') }}',
		    enterMode : CKEDITOR.ENTER_BR,
		    allowedContent: true,
		} );
        CKEDITOR.config.allowedContent = true;
        CKEDITOR.config.enterMode = CKEDITOR.ENTER_BR;
	});
}

function triggerSaveToAllWysWygEditors(){
  $('textarea').each(function(index, value){
      var $textarea = $(this);
      $textarea.val(CKEDITOR.instances[$textarea.prop('id')].getData());
  });
}

function destroyAllWysWygEditors(){
	for(name in CKEDITOR.instances)
	{
		CKEDITOR.instances[name].destroy(true);
	}
}
</script>
